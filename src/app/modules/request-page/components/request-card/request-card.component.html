<div class="request-card" *ngIf="request">
  <div style="display: flex; justify-content: space-between; align-items: flex-start;">
    <div class="request-header">
      <div class="courier-info">
        <img [src]="request.courierImage || '/assets/images/default-user.svg'" alt="Courier Image" class="courier-avatar">
        <div>
          <span class="courier-name">{{request.courierName || 'مستخدم غير معروف'}}</span>
        </div>
      </div>
    </div>
    <div class="request-date" style="min-width: 120px; text-align: left; color: #adb5bd; font-size: 0.95rem; margin-top: 4px;">
      {{formatArabicDate(request.createdAt)}}
    </div>
  </div>
  <div class="request-body">
    <div class="request-message">
      <i class="fa fa-commenting-o" aria-hidden="true" style="color:#0d6efd;margin-left:6px;"></i>
      {{request.message}}
    </div>
    <div class="request-info">
      <div class="info-item">
        <i class="fa fa-map-marker" aria-hidden="true"></i>
        من محطة: {{request.pickupStationName || 'غير محدد'}}
      </div>
    </div>
  </div>
  <div class="request-actions">
    <!-- Contact button - Only visible for offer owner -->
    <button 
      class="btn btn-primary btn-sm" 
      *ngIf="canContact()"
      (click)="onContact()"
      [disabled]="isActionInProgress">
      <i class="fas fa-comments"></i> تواصل
    </button>
    
    <!-- Accept/Reject buttons for offer owner -->
    <button 
      class="btn btn-success btn-sm" 
      *ngIf="canAcceptOrReject()"
      (click)="acceptRequest()"
      [disabled]="isActionInProgress">
      <i class="fas fa-check"></i> قبول
    </button>
    
    <button 
      class="btn btn-danger btn-sm" 
      *ngIf="canAcceptOrReject()"
      (click)="rejectRequest()"
      [disabled]="isActionInProgress">
      <i class="fas fa-times"></i> رفض
    </button>
    
    <ng-content></ng-content>
  </div>
</div> 