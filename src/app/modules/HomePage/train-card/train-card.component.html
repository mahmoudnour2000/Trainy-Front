<div class="col-lg-12">
  <div class="train-card" id="train-{{train.ID}}">
    <div class="time-section">
      <div class="time-box">
        <p class="transport">محطة القيام</p>
        <p class="time">{{train.Route_From}}</p>
        <!-- <p class="location">{{train.Current_Location}}</p> -->
      </div>
      <div class="details-section">
        <div class="detail-box">
          <p class="detail-label">نوع القطار</p>
          <p class="detail-value">{{getTrainTypeArabic(train.TrainType)}}</p>
        </div>
        <div class="detail-box">
          <p class="detail-label">رقم القطار</p>
          <p class="detail-value">{{train.No}}</p>
        </div>
      </div>
      <div class="time-box">
        <p class="transport">محطة الوصول</p>
        <p class="time">{{train.Route_To}}</p>
        <!-- <p class="location">{{train.Current_Location}}</p> -->
      </div>
    </div>
    <div class="buttons-container">
      <button class="action-btn toggle-stations" (click)="toggleStations()">
        <i class="fas" [ngClass]="showStations ? 'fa-chevron-up' : 'fa-chevron-down'"></i> {{showStations ? 'إخفاء المحطات' : 'عرض المحطات'}}
      </button>
      <button class="action-btn go-to-train" (click)="goToTrainDetails(train.ID)">
        <i class="fas fa-train"></i> انتقل للقطار
      </button>
     
    </div>
  </div>
  <div class="stations-container" [ngClass]="{ 'expanded': showStations }" *ngIf="showStations || isLoadingStations">
    <div *ngIf="isLoadingStations" class="text-center py-2">
      <div class="spinner-border spinner-border-sm" role="status">
        <span class="visually-hidden">جاري تحميل المحطات...</span>
      </div>
    </div>
    <ul class="stations-list" *ngIf="!isLoadingStations">
      <div class="station-row" *ngFor="let i of getStationRows()">
        <li class="station-item" *ngFor="let station of stations.slice(i * 5, i * 5 + 5)">
          <span class="station-name">{{station.StationName}}</span>
          <span class="station-time">{{station.ArrivalTime }}</span>
        </li>
      </div>
    </ul>
  </div>
</div>